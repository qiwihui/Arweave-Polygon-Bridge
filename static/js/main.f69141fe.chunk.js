(this["webpackJsonptai-shang-arweave-uploader-plugin"]=this["webpackJsonptai-shang-arweave-uploader-plugin"]||[]).push([[0],{457:function(t,e,n){"use strict";(function(t){var a=n(0),c=n.n(a),i=n(458),o=n(65),s=n.n(o),r=n(41),l=n(272),d=n(33),u=n(74),h=n(103),j=n(270),v=n(271),w=n(279),b=n(474),p=n(79),x=n(471),g=n(14);e.a=function(){const e="Select a Currency",n="Select a Provider",[o,f]=c.a.useState(e),[O,y]=c.a.useState(),[m,C]=c.a.useState(n),[S,k]=c.a.useState(),[I,F]=c.a.useState(),[B,T]=c.a.useState(),[U,A]=c.a.useState(),[M,W]=c.a.useState("https://node1.bundlr.network"),[L,P]=c.a.useState(),[N,_]=c.a.useState(),[E,D]=c.a.useState(),G=Object(l.a)(),q=c.a.useRef(),[z,J]=c.a.useState("image/png"),[R,H]=c.a.useState("application/elixir"),[V,K]=Object(a.useState)(""),[Q,X]=c.a.useState("just a piece of word"),[Y,Z]=c.a.useState(),$=async()=>{clearInterval(q.current),k(void 0),F(void 0),T(void 0),A(void 0),D(void 0),y(void 0),f(e),C(n)},tt=async e=>{let n=e.target.files,a=new FileReader;n&&n.length>0&&(a.onload=function(){a.result&&F(t.from(a.result))},a.readAsArrayBuffer(n[0]))},et=async t=>{E&&await $();const e=new p.providers.Web3Provider(t);return await e._ready(),e},nt={MetaMask:async t=>{var e,n;if(null===(e=window)||void 0===e||null===(n=e.ethereum)||void 0===n||!n.isMetaMask)return;await window.ethereum.enable();const a=await et(window.ethereum),c="0x".concat(t.chainId.toString(16));try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})}catch(i){4902===i.code&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:c,rpcUrls:t.rpcUrls,chainName:t.chainName}]})}return a},WalletConnect:async t=>await et(await new b.a(t).enable())},at={matic:{providers:["MetaMask","WalletConnect"],opts:{chainId:137,chainName:"Polygon Mainnet",rpcUrls:["https://polygon-rpc.com"]}}},ct=t=>t.charAt(0).toUpperCase()+t.substring(1).toLowerCase(),it=t=>{const e=new s.a(t).multipliedBy(U.currencyConfig.base[1]);if(!e.isLessThan(1))return e;G({status:"error",title:"Value too small!"})};return Object(g.jsxs)(d.d,{mt:10,children:[Object(g.jsxs)(d.b,{children:[" ",Object(g.jsxs)(u.a,{children:[Object(g.jsx)(u.b,{as:r.a,rightIcon:Object(g.jsx)(w.a,{}),children:ct(o)}),Object(g.jsx)(u.d,{children:Object.keys(at).map((t=>Object(g.jsx)(u.c,{onClick:()=>{$(),f(t)},children:ct(t)},t)))})]}),Object(g.jsxs)(u.a,{children:[Object(g.jsx)(u.b,{disabled:o===e,as:r.a,rightIcon:Object(g.jsx)(w.a,{}),children:m}),Object(g.jsx)(u.d,{children:Object.keys(nt).map((t=>at[o]&&-1!==at[o].providers.indexOf(t)?Object(g.jsx)(u.c,{onClick:()=>C(t),children:t},t):void 0))})]}),Object(g.jsx)(r.a,{w:300,colorScheme:"green",disabled:!(m!==n&&o!==e&&M.length>8),onClick:async()=>await(async()=>{if(q.current&&clearInterval(q.current),E)return D(void 0),A(void 0),void y(void 0);const t=m,e=o,n=nt[t],a=at[e];console.log("loading: ".concat(t," for ").concat(e));const c=await n(a.opts).catch((e=>{G({status:"error",title:"Failed to load provider ".concat(t),duration:1e4}),console.log(e)}));D(c)})(),children:E?"Disconnect":"Connect"})]}),Object(g.jsxs)(d.c,{children:["Connected Account: ",null!==O&&void 0!==O?O:"None"]}),Object(g.jsxs)(d.b,{w:1e3,children:[Object(g.jsx)(r.a,{w:300,colorScheme:"green",disabled:!E,onClick:async()=>await(async()=>{const t=new i.WebBundlr(M,o,E);try{await t.utils.getBundlerAddress(o)}catch{return void G({status:"error",title:"Failed to connect to bundlr ".concat(M),duration:1e4})}try{await t.ready()}catch(e){console.log(e)}t.address||console.log("something went wrong"),G({status:"success",title:"Connected to ".concat(M)}),y(null===t||void 0===t?void 0:t.address),A(t)})(),children:"Connect to Bundlr"}),Object(g.jsx)(h.a,{value:M,onChange:t=>{W(t.target.value)},placeholder:"Bundler Address"}),U&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{O&&U.getBalance(O).then((t=>{k(t.toString())})),await(async()=>{q&&clearInterval(q.current),q.current=window.setInterval((async()=>{null===U||void 0===U||U.getLoadedBalance().then((t=>{k(t.toString())})).catch((t=>clearInterval(q.current)))}),5e3)})()},children:"Get Balance"}),S&&Object(g.jsx)(j.a,{label:"(".concat(S," ").concat(U.currencyConfig.base[0],")"),children:Object(g.jsxs)(d.c,{style:{whiteSpace:"nowrap"},children:[U.utils.unitConverter(S).toFixed(4,2).toString()," ",U.currencyConfig.ticker.toLowerCase()]})})]})]}),U&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(d.b,{w:1e3,children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(U&&L){G({status:"info",title:"Funding...",duration:15e3});const t=it(L);if(!t)return;await U.fund(t).then((t=>{G({status:"success",title:"Funded ".concat(null===t||void 0===t?void 0:t.target),description:" tx ID : ".concat(null===t||void 0===t?void 0:t.id),duration:1e4})})).catch((t=>{var e;G({status:"error",title:"Failed to fund - ".concat((null===(e=t.data)||void 0===e?void 0:e.message)||t.message)})}))}},children:"Fund"}),Object(g.jsx)(h.a,{placeholder:"".concat(ct(o)," Amount"),value:L,onChange:t=>{P(t.target.value)}}),Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(U&&N){G({status:"info",title:"Withdrawing..",duration:15e3});const t=it(N);if(!t)return;await U.withdrawBalance(t).then((t=>{var e;G({status:"success",title:"Withdrawal successful - ".concat(null===(e=t.data)||void 0===e?void 0:e.tx_id),duration:5e3})})).catch((t=>{G({status:"error",title:"Withdrawal Unsuccessful!",description:t.message,duration:5e3})}))}},children:"Withdraw"}),Object(g.jsx)(h.a,{placeholder:"".concat(ct(o)," Amount"),value:N,onChange:t=>{_(t.target.value)}})]}),Object(g.jsx)(d.a,{w:1e3}),Object(g.jsx)(d.c,{fontSize:"xl",children:"Choice 0x01. Upload File"}),Object(g.jsxs)(d.b,{children:[Object(g.jsx)(d.c,{children:'Type(default is "image/png"):'}),Object(g.jsx)(h.a,{onChange:t=>J(t.target.value),placeholder:"image/png"})]}),Object(g.jsx)(r.a,{w:300,onClick:()=>{var t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none",document.body.appendChild(t),t.addEventListener("input",(function(e){tt(e),document.body.removeChild(t)})),t.click()},children:"Select file from Device"}),I&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(d.b,{children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(I){const t=await(null===U||void 0===U?void 0:U.utils.getPrice(o,I.length));T(null===t||void 0===t?void 0:t.toString())}},children:"Get Price"}),B&&Object(g.jsx)(d.c,{children:"Cost: ".concat(U.utils.unitConverter(B).toString()," ").concat(U.currencyConfig.ticker.toLowerCase()," ")})]}),Object(g.jsx)(r.a,{w:300,onClick:async()=>{I&&await(null===U||void 0===U?void 0:U.uploader.upload(I,[{name:"Content-Type",value:z}]).then((t=>{G({status:200===(null===t||void 0===t?void 0:t.status)||201===(null===t||void 0===t?void 0:t.status)?"success":"error",title:200===(null===t||void 0===t?void 0:t.status)||201===(null===t||void 0===t?void 0:t.status)?"Successful!":"Unsuccessful! ".concat(null===t||void 0===t?void 0:t.status),description:null!==t&&void 0!==t&&t.data.id?"https://arweave.net/".concat(t.data.id):void 0,duration:15e3}),window.lastTxId=t.data.id,K(t.data.id),console.log("uploaded tx id is "+window.lastTxId)})).catch((t=>{G({status:"error",title:"Failed to upload - ".concat(t)})})))},children:"Upload File to Bundlr Network"})]}),Object(g.jsx)(d.a,{w:1e3}),Object(g.jsx)(d.c,{fontSize:"xl",children:"Choice 0x02. Upload Code or Any Other Txt"}),Object(g.jsx)(d.b,{children:Object(g.jsx)(v.a,{onChange:t=>{X(t.target.value)},style:{minHeight:"300px",marginTop:"5px",width:"500px"}})}),Object(g.jsxs)(d.b,{children:[Object(g.jsx)(d.c,{children:'Type(default is "application/elixir"):'}),Object(g.jsx)(h.a,{onChange:t=>H(t.target.value),placeholder:"application/elixir"})]}),Object(g.jsxs)(d.b,{w:1e3,style:{display:"flex",justifyContent:"center"},children:[Object(g.jsx)(r.a,{w:300,onClick:async()=>{if(Q){const e=await(null===U||void 0===U?void 0:U.utils.getPrice(o,t.from(Q,"utf8").length));Z(null===e||void 0===e?void 0:e.toString())}},children:"Get Price"}),Y&&Object(g.jsx)(d.c,{children:"Cost: ".concat(U.utils.unitConverter(Y).toString()," ").concat(U.currencyConfig.ticker.toLowerCase()," ")})]}),Object(g.jsx)(r.a,{w:300,onClick:async()=>{Q&&await(null===U||void 0===U?void 0:U.uploader.upload(t.from(Q,"utf8"),[{name:"Content-Type",value:R}]).then((t=>{G({status:200===(null===t||void 0===t?void 0:t.status)||201===(null===t||void 0===t?void 0:t.status)?"success":"error",title:200===(null===t||void 0===t?void 0:t.status)||201===(null===t||void 0===t?void 0:t.status)?"Successful!":"Unsuccessful! ".concat(null===t||void 0===t?void 0:t.status),description:null!==t&&void 0!==t&&t.data.id?"https://arweave.net/".concat(t.data.id):void 0,duration:15e3}),window.lastTxId=t.data.id,K(t.data.id),console.log("uploaded tx id is "+window.lastTxId)})).catch((t=>{G({status:"error",title:"Failed to upload - ".concat(t)})})))},children:"Upload Text to Bundlr Network"}),Object(g.jsx)(x.CopyToClipboard,{text:'{ "address": "'.concat(O,'", "tx_hash": "').concat(V,'", "copy_from": "bundlr" }'),children:Object(g.jsx)(r.a,{width:"300px",children:"Copy to clipboard with button"})})]})]})}}).call(this,n(9).Buffer)},477:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(80),o=n.n(i),s=n(457),r=n(273),l=n(82),d=n(14);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(r.a,{theme:l.c,children:Object(d.jsx)(s.a,{})})}),document.getElementById("root"))},563:function(t,e){},565:function(t,e){},574:function(t,e){},576:function(t,e){},602:function(t,e){},603:function(t,e){},608:function(t,e){},610:function(t,e){},617:function(t,e){},636:function(t,e){},681:function(t,e){},683:function(t,e){},728:function(t,e){},762:function(t,e){},763:function(t,e){},799:function(t,e){},801:function(t,e){},813:function(t,e){},865:function(t,e){}},[[477,1,2]]]);
//# sourceMappingURL=main.f69141fe.chunk.js.map